/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package fr.unice.polytech.qgl.qae.actions.groundActions.withparams;

import fr.unice.polytech.qgl.qae.resources.PrimaryResourceType;
import fr.unice.polytech.qgl.qae.resources.ResourceAmountType;
import fr.unice.polytech.qgl.qae.resources.ResourceTile;
import org.json.JSONObject;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.*;

/**
 *
 * @author Thom
 */
public class ExploitTest {
  Exploit ex, ex2;
  public ExploitTest() {
  }
  
  @Before
  public void setUp() {
    ex = new Exploit("FUR");
    ex2 = new Exploit(PrimaryResourceType.FUR);
    assertEquals(ex, ex2);
  }

  /**
   * Test of getValueParameter method, of class Exploit.
   */
  @Test
  public void testGetValueParameter() {
    
    assertEquals(PrimaryResourceType.FUR, ex.getValueParameter());
    
  }
  
  
  /**
   * Test of toJSON method, of class Exploit.
   */
   @Test
  public void testJSON() {
    String h ="{ \"action\": \"exploit\", \"parameters\": { \"resource\": \"FUR\" }}";
    assertEquals(new JSONObject(h).get("action"),ex.toJSON().get("action"));
    assertEquals(new JSONObject(h).getJSONObject("parameters").getEnum(PrimaryResourceType.class, "resource"),ex.toJSON().getJSONObject("parameters").getEnum(PrimaryResourceType.class, "resource"));
  }
  
  
}
